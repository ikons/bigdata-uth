# ğŸ”¥ Big Data Î¼Îµ Apache Spark, HDFS, Docker & Kubernetes

Î‘Ï…Ï„ÏŒ Ï„Î¿ Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î¿ Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ ÎºÏÎ´Î¹ÎºÎ±, Î´ÎµÎ´Î¿Î¼Î­Î½Î± ÎºÎ±Î¹ Î¿Î´Î·Î³Î¯ÎµÏ‚ Î³Î¹Î± Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½ **Apache Spark** Î¼Îµ **RDDs**, **DataFrames** ÎºÎ±Î¹ **Map/Reduce** Î¼Îµ Ï‡ÏÎ®ÏƒÎ· **Ï„Î¿Ï€Î¹ÎºÎ®Ï‚ (Docker)** ÎºÎ±Î¹ **ÎºÎ±Ï„Î±Î½ÎµÎ¼Î·Î¼Î­Î½Î·Ï‚ (Kubernetes)** Ï…Ï€Î¿Î´Î¿Î¼Î®Ï‚ Î³Î¹Î± Ï„Î¿ Î¼Î¬Î¸Î·Î¼Î± [Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î± Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ ÎœÎµÎ³Î¬Î»Î¿Ï… ÎŒÎ³ÎºÎ¿Ï… Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½](https://eclass.uth.gr/courses/CS_U_218/) Ï„Î¿Ï… [Î¤Î¼Î®Î¼Î±Ï„Î¿Ï‚ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÎºÎ®Ï‚ ÎºÎ±Î¹ Î¤Î·Î»ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¹ÏÎ½](http://www.dit.uth.gr) [Î Î±Î½ÎµÏ€Î¹ÏƒÏ„Î·Î¼Î¯Î¿Ï… Î˜ÎµÏƒÏƒÎ±Î»Î¯Î±Ï‚](http://www.uth.gr).

---

## ğŸ“˜ Î£ÎµÎ¹ÏÎ¬ ÎœÎµÎ»Î­Ï„Î·Ï‚ / ÎŸÎ´Î·Î³Î¯ÎµÏ‚ Î•ÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚ (Markdown)

1. [00_Preparatory-lab](docs/00_Preparatory-lab): Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ (WSL + Docker Desktop)
2. [00_pycharm](docs/00_pycharm): Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Spark Ï„Î¿Ï€Î¹ÎºÎ¬ Î¼Îµ PyCharm
3. [01_lab1-docker](docs/01_lab1-docker): Î•ÎºÎºÎ¯Î½Î·ÏƒÎ· Spark + HDFS Î¼Î­ÏƒÏ‰ Docker Compose
4. [01_lab1-k8s](docs/01_lab1-k8s): Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Spark Jobs ÏƒÎµ Kubernetes (vdcloud)
5. [02_lab2](docs/02_lab2): Î•ÎºÏ„Î­Î»ÎµÏƒÎ· ÎµÏÏ‰Ï„Î·Î¼Î¬Ï„Ï‰Î½ ÏƒÏ…Î½Î­Î½Ï‰ÏƒÎ·Ï‚ Î¼Îµ Ï‡ÏÎ®ÏƒÎ· RDD,  DataFrames ÎºÎ±Î¹ SQL

ğŸ“ Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ¬, ÏŒÎ»Î¿Î¹ Î¿Î¹ Î¿Î´Î·Î³Î¿Î¯ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿Î¹ ÎºÎ±Î¹ ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ [`odigoi/`](./odigoi) ÏƒÎµ Î¼Î¿ÏÏ†Î® `.docx` ÎºÎ±Î¹ `.pdf`.


---

## ğŸ“ Î”Î¿Î¼Î® Î‘Ï€Î¿Î¸ÎµÏ„Î·ÏÎ¯Î¿Ï…

- `code/`: ÎšÏÎ´Î¹ÎºÎ±Ï‚ Spark ÏƒÎµ Python (RDD & DataFrame)
- `examples/`: CSV Î±ÏÏ‡ÎµÎ¯Î± Î³Î¹Î± Î´Î¿ÎºÎ¹Î¼Î­Ï‚ (employees, departments, text)
- `docker/`
  - `01-lab1-spark-hdfs/`: Spark + HDFS setup Î¼Îµ Docker Compose
  - `02-lab2-spark-history-server/`: Spark History Server setup Î¼Îµ Docker
- `docs/`: ğŸ“˜ ÎŒÎ»Î¿Î¹ Î¿Î¹ Î¿Î´Î·Î³Î¿Î¯ ÏƒÎµ Î¼Î¿ÏÏ†Î® Markdown
- `odigoi/`: ğŸ§¾ ÎŸÎ´Î·Î³Î¿Î¯ ÏƒÎµ `.docx` ÎºÎ±Î¹ `.pdf`

---



## ğŸ’» Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Î¼Îµ PyCharm (Î¤Î¿Ï€Î¹ÎºÎ® Î‘Î½Î¬Ï€Ï„Ï…Î¾Î·)

ğŸ“„ ÎŸÎ´Î·Î³ÏŒÏ‚: [`00_Preparatory-lab`](docs/00_Preparatory-lab)

- Î§ÏÎ®ÏƒÎ· `venv`, ÎµÎ³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· `pyspark` & `psutil`
- Î¡ÏÎ¸Î¼Î¹ÏƒÎ· Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ ÏƒÏ„Î¿ Run Configuration
- Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· Spark UI Î¼Î­ÏƒÏ‰ `localhost:4040`

---

## ğŸ§± Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± Î ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ (WSL + Docker Desktop)

ğŸ“„ ÎŸÎ´Î·Î³ÏŒÏ‚: [`docs/00_Preparatory-lab`](docs/00_Preparatory-lab/)

- Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· WSL 2 ÎºÎ±Î¹ Ubuntu
- Î¡ÏÎ¸Î¼Î¹ÏƒÎ· Docker Desktop Î³Î¹Î± Ï‡ÏÎ®ÏƒÎ· WSL backend
- Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· ÎµÎ³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ ÎºÎ±Î¹ Ï„ÎµÏƒÏ„ Î¼Îµ `hello-world`

---

## ğŸ³ Lab 01a: Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Spark + HDFS Î¼Î­ÏƒÏ‰ Docker

ğŸ“„ ÎŸÎ´Î·Î³ÏŒÏ‚: [`01_lab1-docker`](docs/01_lab1-docker)

```bash
cd docker/01-lab1-spark-hdfs
docker compose up -d
```

- Spark UI: http://localhost:8080  
- HDFS NameNode: http://localhost:9870  
- Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Ï€Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î¿Ï‚:
```bash
docker exec spark-master spark-submit /mnt/upload/wordcount.py
```

ğŸ“‚ Î‘Î½Î­Î²Î±ÏƒÎ¼Î± Î±ÏÏ‡ÎµÎ¯Ï‰Î½:  
```
\wsl.localhost\docker-desktop\mnt\... (shared volume path)
```

---

## â˜ï¸ Lab 01b: Spark ÏƒÎµ Kubernetes

ğŸ“„ ÎŸÎ´Î·Î³ÏŒÏ‚: [`01_lab1-k8s`](docs/01_lab1-k8s)

- Î•ÎºÏ„ÎµÎ»ÎµÎ¯ Spark ÏƒÎµ Kubernetes (vdcloud)
- Î‘Ï€Î±Î¹Ï„ÎµÎ¯ OpenVPN & Ï‡ÏÎ®ÏƒÎ· `k9s` Î³Î¹Î± Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ·

### Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± `spark-submit`:

```bash
spark-submit \
    --master k8s://https://<k8s-cluster-endpoint> \
    --deploy-mode cluster \
    --conf spark.kubernetes.container.image=apache/spark \
    hdfs://.../wordcount_localdir.py
```

---

## ğŸ” Lab 02: Î•ÎºÏ„Î­Î»ÎµÏƒÎ· ÎµÏÏ‰Ï„Î·Î¼Î¬Ï„Ï‰Î½ ÏƒÏ…Î½Î­Î½Ï‰ÏƒÎ·Ï‚ Î¼Îµ Ï„Î·Î½ Ï‡ÏÎ®ÏƒÎ· RDD, DataFrames ÎºÎ±Î¹ SQL

ğŸ“„ ÎŸÎ´Î·Î³ÏŒÏ‚: [`02_lab2`](docs/02_lab2)

Î£Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÎµÏÎ³Î±ÏƒÏ„Î®ÏÎ¹Î¿ Ï…Î»Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ ÎµÏÏ‰Ï„Î®Î¼Î±Ï„Î± ÏƒÏ…Î½Î­Î½Ï‰ÏƒÎ·Ï‚ Ï€Î¹Î½Î¬ÎºÏ‰Î½ (joins) Ï„ÏŒÏƒÎ¿ Î¼Îµ RDDs ÏŒÏƒÎ¿ ÎºÎ±Î¹ Î¼Îµ DataFrames. Î ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Ï„Î·Î½ Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· ÎºÎ±Î¹ Ï„Î·Î½ Î¿Î¼Î±Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½, ÎºÎ±Î¸ÏÏ‚ ÎºÎ±Î¹ Ï‡ÏÎ®ÏƒÎ· SQL queries.

Î£Ï„Î¿ Ï„Î­Î»Î¿Ï‚ Ï„Î¿Ï… Î¿Î´Î·Î³Î¿Ï, Î³Î¯Î½ÎµÏ„Î±Î¹ ÎºÎ±Î¹ ÏƒÏÎ½Ï„Î¿Î¼Î· Î±Î½Î±Ï†Î¿ÏÎ¬ ÏƒÏ„Î·Î½ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ±Î¹ Ï‡ÏÎ®ÏƒÎ· Ï„Î¿Ï… **Spark History Server** Î³Î¹Î± Ï„Î·Î½ Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Ï„Ï‰Î½ ÎµÏÏ‰Ï„Î·Î¼Î¬Ï„Ï‰Î½ Î¼Î­ÏƒÏ‰ web UI.

---

## âš™ï¸ Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÏƒÏ„Î¿ HDFS

```bash
# Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î® Ï„Ï‰Î½ Ï†Î±ÎºÎ­Î»Ï‰Î½ ÏƒÏ„Î¿ HDFS
hadoop fs -put examples examples
hadoop fs -put code code

# Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·
hadoop fs -ls examples
hadoop fs -ls code
```

---

## ğŸ§ª Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Î•ÏÏ‰Ï„Î·Î¼Î¬Ï„Ï‰Î½ Spark

| Î•ÏÏÏ„Î·Î¼Î±       | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®                                  | Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· |
|---------------|---------------------------------------------|------------|
| Query 1       | 5 Ï…Ï€Î¬Î»Î»Î·Î»Î¿Î¹ Î¼Îµ Ï„Î¿Î½ Ï‡Î±Î¼Î·Î»ÏŒÏ„ÎµÏÎ¿ Î¼Î¹ÏƒÎ¸ÏŒ         | RDD / DF   |
| Query 2       | 3 Ï…ÏˆÎ·Î»ÏŒÎ¼Î¹ÏƒÎ¸Î¿Î¹ Ï…Ï€Î¬Î»Î»Î·Î»Î¿Î¹ Ï„Î¿Ï… "Dep A"         | RDD / DF   |
| Query 3       | Î†Î¸ÏÎ¿Î¹ÏƒÎ¼Î± Î¼Î¹ÏƒÎ¸ÏÎ½ Î±Î½Î¬ Ï„Î¼Î®Î¼Î±                   | DF         |
| Word Count    | ÎšÎ±Ï„Î±Î¼Î­Ï„ÏÎ·ÏƒÎ· Î»Î­Î¾ÎµÏ‰Î½ ÏƒÎµ Î±ÏÏ‡ÎµÎ¯Î¿ ÎºÎµÎ¹Î¼Î­Î½Î¿Ï…       | RDD        |

ğŸ“ˆ Î¤Î± Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ queries Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î·Î¸Î¿ÏÎ½ Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… Spark History Server (Î±Î½Î±Ï†Î¿ÏÎ¬ ÏƒÏ„Î¿ Ï„Î­Î»Î¿Ï‚ Ï„Î¿Ï… [02_lab2](docs/02_lab2)).

### Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚:

```bash
# âš ï¸ Î‘Î½Ï„Î¹ÎºÎ±Ï„Î­ÏƒÏ„Î·ÏƒÎµ ğŸ‘‡ Ï„Î¿ "ikons" Î¼Îµ Ï„Î¿ Î´Î¹ÎºÏŒ ÏƒÎ¿Ï… username
spark-submit hdfs://hdfs-namenode:9000/user/ikons/code/RddQ1.py
```

---



---

## ğŸ‘¤ Î£Ï…Î½Ï„ÎµÎ»ÎµÏƒÏ„Î®Ï‚

**ikons**  
ğŸ“¬ Î“Î¹Î± Î±Ï€Î¿ÏÎ¯ÎµÏ‚: [GitHub Issues](https://github.com/ikons/bigdata/issues)
